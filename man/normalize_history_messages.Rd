% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/llm_caller.R
\name{normalize_history_messages}
\alias{normalize_history_messages}
\title{Normalize conversation history into message objects}
\usage{
normalize_history_messages(x, map_role)
}
\arguments{
\item{x}{One of `NULL`, a character vector, or a list.}

\item{map_role}{A function that maps role names (e.g., `"assistant"`,
`"user"`) to the target representation. Typically `tolower` or a custom
mapper.}
}
\value{
A list of standardized message objects where each element is a
list with fields:
\describe{
  \item{role}{Character scalar indicating the message role.}
  \item{content}{Character vector or list holding the message content.}
}
}
\description{
Converts various inputs (character vectors, lists of message objects,
or mixed lists) into a standardized list of message objects. This is
useful for constructing conversational contexts where heterogeneous
sources must be coerced into a uniform schema.

Supported inputs:
\itemize{
  \item `NULL`: returns an empty list.
  \item character vector: each element becomes a message from the
        "assistant" role.
  \item list of message objects: preserved as-is, except roles are mapped.
  \item mixed list: keeps message objects; coerces string elements into
        assistant messages.
}
}
\seealso{
[is_message_object]
}
