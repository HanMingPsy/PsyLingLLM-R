% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/conversation_experiment.R
\name{conversation_experiment}
\alias{conversation_experiment}
\title{Run LLM Conversation-style Experiment}
\usage{
conversation_experiment(
  data,
  repeats = 1,
  random = FALSE,
  api_key,
  model,
  api_url,
  trial_prompt = "",
  role_mapping = list(user = "user", system = "system", assistant = "assistant"),
  system_prompt = "You are a participant in a psychology experiment.",
  max_tokens = 1024,
  temperature = 0.7,
  enable_thinking = TRUE,
  output_path = "experiment_results.csv"
)
}
\arguments{
\item{data}{data.frame with columns: TrialPrompt, Material.
Optional columns: Run, Item, Condition*, Target, CorrectResponse, TrialType, Metadata}

\item{random}{Logical. Whether to randomize trial order. Default: FALSE}

\item{api_key}{API key}

\item{model}{Model name}

\item{api_url}{API endpoint}

\item{role_mapping}{List. Default: list(user="user", system="system", assistant="assistant")}

\item{system_prompt}{Character. Initial system message. Default: "You are a participant in a psychology experiment."}

\item{max_tokens}{Integer. Maximum tokens per trial (can adjust per trial)}

\item{temperature}{Numeric. Sampling temperature}

\item{enable_thinking}{Logical. Default TRUE}

\item{output_path}{Character. CSV/XLSX path}
}
\value{
data.frame with trial results and conversation history
}
\description{
Multiple-trials-per-run experiment. Each trial is sent sequentially to the LLM,
previous trials' user/assistant pairs are preserved in conversation context.
}
