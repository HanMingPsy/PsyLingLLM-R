% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/register_build_input.R
\name{infer_role_mapping_from_body}
\alias{infer_role_mapping_from_body}
\title{Infer role mapping from a chat-style LLM request body}
\usage{
infer_role_mapping_from_body(pass1_body)
}
\arguments{
\item{pass1_body}{A list representing the request body (usually as captured
during Pass-1 analysis). Typically this is the same structure passed to
[build_standardized_input()] or [llm_register()].}
}
\value{
A named list with up to three fields describing provider-specific
  role labels:
  \describe{
    \item{user}{Label for the user role (e.g. `"user"` or `"human"`).}
    \item{assistant}{Label for the assistant role
      (e.g. `"assistant"`, `"bot"`, or `"model"`).}
    \item{system}{Label for the system/instruction role
      (e.g. `"system"` or `"context"`). May include a companion field
      `system_content` with the detected instruction text.}
  }

  Returns `NULL` if no mapping can be inferred.
}
\description{
This helper inspects a JSON-like request body used by chat-based LLM APIs
and infers how conversational roles (e.g., *user*, *assistant*, *system*)
are represented in provider-specific message structures.
}
\details{
The function analyzes structural metadata (as produced by
[infer_structure_from_placeholder()]) to identify the message container,
role keys, and message indices. It returns a mapping that can later be
used in the registry under `input$role_mapping` to ensure consistent
message composition across providers.
}
\seealso{
[build_standardized_input()], [infer_structure_from_placeholder()]
}
